<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1742px" preserveAspectRatio="none" style="width:1841px;height:1742px;background:#FFFFFF;" version="1.1" viewBox="0 0 1841 1742" width="1841px" zoomAndPan="magnify"><defs/><g><!--MD5=[6a449d165e7288571682c9f52c1007ed]
cluster apiserver--><g id="cluster_apiserver"><path d="M8.5,6.532 L73.5,6.532 A3.75,3.75 0 0 1 76,9.032 L83,32.8039 L1738.5,32.8039 A2.5,2.5 0 0 1 1741,35.3039 L1741,1733.032 A2.5,2.5 0 0 1 1738.5,1735.532 L8.5,1735.532 A2.5,2.5 0 0 1 6,1733.032 L6,9.032 A2.5,2.5 0 0 1 8.5,6.532 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="83" y1="32.8039" y2="32.8039"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="64" x="10" y="24.7719">apiserver</text></g><!--MD5=[7c4ad38fb4aa9d63783092a764c3db8f]
class apiserver.APIAggregator--><g id="elem_apiserver.APIAggregator"><rect codeLine="2" fill="#F1F1F1" height="453.4382" id="apiserver.APIAggregator" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="472" x="994" y="145.532"/><ellipse cx="1178.75" cy="161.532" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1178.9375,168.2351 C1181.2344,168.2351 1182.6875,166.6101 1182.6875,164.6101 C1182.6875,162.782 1181.8594,161.9382 1180.7188,161.1414 L1179.7031,160.4226 C1178.5781,159.6101 1178.1563,159.3132 1178.1563,158.4539 C1178.1563,157.7664 1178.6406,157.3601 1179.2188,157.3601 C1179.9531,157.3601 1180.4375,157.7507 1181.1406,158.3914 L1182.4531,156.8132 C1181.4844,155.7976 1180.4688,155.2039 1179.2031,155.2039 C1177.0625,155.2039 1175.6094,156.7195 1175.6094,158.6414 C1175.6094,160.4382 1176.5313,161.3445 1177.625,162.0945 L1178.7188,162.8445 C1179.6563,163.4539 1180.1094,164.032 1180.1094,164.9695 C1180.1094,165.6414 1179.6406,166.0632 1178.9375,166.0632 C1178.2344,166.0632 1177.4844,165.5476 1176.8281,164.7195 L1175.2813,166.407 C1176.3125,167.5945 1177.6094,168.2351 1178.9375,168.2351 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1199.25" y="167.636">APIAggregator</text><line style="stroke:#181818;stroke-width:0.5;" x1="995" x2="1465" y1="177.532" y2="177.532"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1002" y="190.1679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="1014" y="197.7719">delegateHandler http.Handler</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1002" y="210.4398"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="275" x="1014" y="218.0438">proxyCurrentCertKeyContent certKeyFunc</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1002" y="230.7118"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="1014" y="238.3157">proxyTransport *http.Transport</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1002" y="250.9837"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1014" y="258.5876">proxyHandlers</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1113" y="258.5876">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="1143" y="258.5876">[string]*proxyHandler</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1002" y="271.2556"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="1014" y="278.8596">handledGroups sets.String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1002" y="291.5275"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1014" y="299.1315">lister v1.APIServiceLister</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1002" y="311.7994"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="1014" y="319.4034">serviceResolver ServiceResolver</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1002" y="332.0713"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="1014" y="339.6753">openAPIConfig *common.Config</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1002" y="352.3432"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230" x="1014" y="359.9472">openAPIV3Config *common.Config</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1002" y="372.6151"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="415" x="1014" y="380.2191">openAPIAggregationController *openapi.AggregationController</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1002" y="392.8871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="446" x="1014" y="400.491">openAPIV3AggregationController *openapiv3.AggregationController</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1002" y="413.159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="418" x="1014" y="420.7629">discoveryAggregationController DiscoveryAggregationController</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1002" y="433.4309"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="301" x="1014" y="441.0349">egressSelector *egressselector.EgressSelector</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1002" y="453.7028"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="1014" y="461.3068">rejectForwardingRedirects bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="1014" y="481.5787"> </text><ellipse cx="1005" cy="497.2466" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="1014" y="501.8506">GenericAPIServer *server.GenericAPIServer</text><ellipse cx="1005" cy="517.5185" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="434" x="1014" y="522.1225">APIRegistrationInformers externalversions.SharedInformerFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="995" x2="1465" y1="530.1545" y2="530.1545"/><ellipse cx="1005" cy="545.7904" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295" x="1014" y="550.3944">PrepareRun() (preparedAPIAggregator, error)</text><ellipse cx="1005" cy="566.0623" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="306" x="1014" y="570.6663">AddAPIService(apiService *v1.APIService) error</text><ellipse cx="1005" cy="586.3343" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280" x="1014" y="590.9382">RemoveAPIService(apiServiceName string)</text></g><!--MD5=[cb7bf8af81f389b95d4a2b173b000214]
class apiserver.preparedAPIAggregator--><g id="elem_apiserver.preparedAPIAggregator"><rect codeLine="27" fill="#F1F1F1" height="88.5438" id="apiserver.preparedAPIAggregator" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="231" x="1464.5" y="1074.032"/><ellipse cx="1499.3" cy="1090.032" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1499.4875,1096.7351 C1501.7844,1096.7351 1503.2375,1095.1101 1503.2375,1093.1101 C1503.2375,1091.282 1502.4094,1090.4382 1501.2688,1089.6414 L1500.2531,1088.9226 C1499.1281,1088.1101 1498.7063,1087.8132 1498.7063,1086.9539 C1498.7063,1086.2664 1499.1906,1085.8601 1499.7688,1085.8601 C1500.5031,1085.8601 1500.9875,1086.2507 1501.6906,1086.8914 L1503.0031,1085.3132 C1502.0344,1084.2976 1501.0188,1083.7039 1499.7531,1083.7039 C1497.6125,1083.7039 1496.1594,1085.2195 1496.1594,1087.1414 C1496.1594,1088.9382 1497.0813,1089.8445 1498.175,1090.5945 L1499.2688,1091.3445 C1500.2063,1091.9539 1500.6594,1092.532 1500.6594,1093.4695 C1500.6594,1094.1414 1500.1906,1094.5632 1499.4875,1094.5632 C1498.7844,1094.5632 1498.0344,1094.0476 1497.3781,1093.2195 L1495.8313,1094.907 C1496.8625,1096.0945 1498.1594,1096.7351 1499.4875,1096.7351 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="1517.7" y="1096.136">preparedAPIAggregator</text><line style="stroke:#181818;stroke-width:0.5;" x1="1465.5" x2="1694.5" y1="1106.032" y2="1106.032"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1472.5" y="1118.6679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="1484.5" y="1126.2719">runnable runnable</text><line style="stroke:#181818;stroke-width:0.5;" x1="1465.5" x2="1694.5" y1="1134.3039" y2="1134.3039"/><ellipse cx="1475.5" cy="1149.9398" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1484.5" y="1154.5438">Run(stopCh</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1566.5" y="1154.5438">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="1599.5" y="1154.5438"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1602.5" y="1154.5438">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1640.5" y="1154.5438">{}) error</text></g><!--MD5=[14daac311bbc1317ee750cb1aacae1d7]
class apiserver.runnable--><g id="elem_apiserver.runnable"><rect codeLine="35" fill="#F1F1F1" height="68.2719" id="apiserver.runnable" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="231" x="1501.5" y="338.032"/><ellipse cx="1582.25" cy="354.032" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1578.6094,360.532 L1585.3906,360.532 L1585.3906,358.4539 L1583.2344,358.4539 L1583.2344,350.0164 L1585.3906,350.0164 L1585.3906,347.907 L1578.6094,347.907 L1578.6094,350.0164 L1580.7031,350.0164 L1580.7031,358.4539 L1578.6094,358.4539 L1578.6094,360.532 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="61" x="1602.75" y="360.136">runnable</text><line style="stroke:#181818;stroke-width:0.5;" x1="1502.5" x2="1731.5" y1="370.032" y2="370.032"/><line style="stroke:#181818;stroke-width:0.5;" x1="1502.5" x2="1731.5" y1="378.032" y2="378.032"/><ellipse cx="1512.5" cy="393.6679" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1521.5" y="398.2719">Run(stopCh</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1603.5" y="398.2719">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="1636.5" y="398.2719"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1639.5" y="398.2719">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1677.5" y="398.2719">{}) error</text></g><!--MD5=[058cc08b14f503cf4fcb57ffb01065c7]
class apiserver.GenericAPIServer--><g id="elem_apiserver.GenericAPIServer"><rect codeLine="41" fill="#F1F1F1" height="919.6922" id="apiserver.GenericAPIServer" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="949" x="14.5" y="658.532"/><ellipse cx="427.75" cy="674.532" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M427.9375,681.2351 C430.2344,681.2351 431.6875,679.6101 431.6875,677.6101 C431.6875,675.782 430.8594,674.9382 429.7188,674.1414 L428.7031,673.4226 C427.5781,672.6101 427.1563,672.3132 427.1563,671.4539 C427.1563,670.7664 427.6406,670.3601 428.2188,670.3601 C428.9531,670.3601 429.4375,670.7507 430.1406,671.3914 L431.4531,669.8132 C430.4844,668.7976 429.4688,668.2039 428.2031,668.2039 C426.0625,668.2039 424.6094,669.7195 424.6094,671.6414 C424.6094,673.4382 425.5313,674.3445 426.625,675.0945 L427.7188,675.8445 C428.6563,676.4539 429.1094,677.032 429.1094,677.9695 C429.1094,678.6414 428.6406,679.0632 427.9375,679.0632 C427.2344,679.0632 426.4844,678.5476 425.8281,677.7195 L424.2813,679.407 C425.3125,680.5945 426.6094,681.2351 427.9375,681.2351 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="448.25" y="680.636">GenericAPIServer</text><line style="stroke:#181818;stroke-width:0.5;" x1="15.5" x2="962.5" y1="690.532" y2="690.532"/><ellipse cx="25.5" cy="706.1679" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229" x="34.5" y="710.7719">LoopbackClientConfig *rest.Config</text><ellipse cx="25.5" cy="726.4398" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="34.5" y="731.0438">ShutdownTimeout time.Duration</text><ellipse cx="25.5" cy="746.7118" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250" x="34.5" y="751.3157">SecureServingInfo *SecureServingInfo</text><ellipse cx="25.5" cy="766.9837" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="34.5" y="771.5876">ExternalAddress string</text><ellipse cx="25.5" cy="787.2556" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255" x="34.5" y="791.8596">Serializer runtime.NegotiatedSerializer</text><ellipse cx="25.5" cy="807.5275" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="34.5" y="812.1315">Handler *APIServerHandler</text><ellipse cx="25.5" cy="827.7994" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="315" x="34.5" y="832.4034">UnprotectedDebugSocket *routes.DebugSocket</text><ellipse cx="25.5" cy="848.0713" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="34.5" y="852.6753">DiscoveryGroupManager discovery.GroupManager</text><ellipse cx="25.5" cy="868.3432" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="437" x="34.5" y="872.9472">AggregatedDiscoveryGroupManager aggregated.ResourceManager</text><ellipse cx="25.5" cy="888.6151" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="483" x="34.5" y="893.2191">AggregatedLegacyDiscoveryGroupManager aggregated.ResourceManager</text><ellipse cx="25.5" cy="908.8871" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="342" x="34.5" y="913.491">OpenAPIVersionedService *handler.OpenAPIService</text><ellipse cx="25.5" cy="929.159" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="366" x="34.5" y="933.7629">OpenAPIV3VersionedService *handler3.OpenAPIService</text><ellipse cx="25.5" cy="949.4309" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228" x="34.5" y="954.0349">StaticOpenAPISpec *spec.Swagger</text><ellipse cx="25.5" cy="969.7028" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="34.5" y="974.3068">AuditBackend audit.Backend</text><ellipse cx="25.5" cy="989.9747" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="34.5" y="994.5787">Authorizer authorizer.Authorizer</text><ellipse cx="25.5" cy="1010.2466" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="430" x="34.5" y="1014.8506">EquivalentResourceRegistry runtime.EquivalentResourceRegistry</text><ellipse cx="25.5" cy="1030.5185" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="422" x="34.5" y="1035.1225">NonLongRunningRequestWaitGroup *waitgroup.SafeWaitGroup</text><ellipse cx="25.5" cy="1050.7904" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="427" x="34.5" y="1055.3944">WatchRequestWaitGroup *waitgroup.RateLimitedSafeWaitGroup</text><ellipse cx="25.5" cy="1071.0623" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258" x="34.5" y="1075.6663">ShutdownDelayDuration time.Duration</text><ellipse cx="25.5" cy="1091.3343" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="34.5" y="1095.9382">APIServerID string</text><ellipse cx="25.5" cy="1111.6062" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="317" x="34.5" y="1116.2101">StorageVersionManager storageversion.Manager</text><ellipse cx="25.5" cy="1131.8781" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="34.5" y="1136.4821">Version *version.Info</text><ellipse cx="25.5" cy="1152.15" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="34.5" y="1156.754">ShutdownSendRetryAfter bool</text><ellipse cx="25.5" cy="1172.4219" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="366" x="34.5" y="1177.0259">ShutdownWatchTerminationGracePeriod time.Duration</text><line style="stroke:#181818;stroke-width:0.5;" x1="15.5" x2="962.5" y1="1185.0579" y2="1185.0579"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="22.5" y="1197.6938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="680" x="34.5" y="1205.2978">installAPIResources(apiPrefix string, apiGroupInfo *APIGroupInfo, openAPIModels *spec.Swagger) error</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="22.5" y="1217.9657"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="923" x="34.5" y="1225.5697">getAPIGroupVersion(apiGroupInfo *APIGroupInfo, groupVersion schema.GroupVersion, apiPrefix string) (*endpoints.APIGroupVersion, error)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="22.5" y="1238.2376"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="775" x="34.5" y="1245.8416">newAPIGroupVersion(apiGroupInfo *APIGroupInfo, groupVersion schema.GroupVersion) *endpoints.APIGroupVersion</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="22.5" y="1258.5096"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="598" x="34.5" y="1266.1135">getOpenAPIModels(apiPrefix string, apiGroupInfos ...*APIGroupInfo) (*spec.Swagger, error)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="34.5" y="1286.3854"> </text><ellipse cx="25.5" cy="1302.0534" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="34.5" y="1306.6573">UnprotectedHandler() http.Handler</text><ellipse cx="25.5" cy="1322.3253" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="34.5" y="1326.9293">PostStartHooks()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="148.5" y="1326.9293">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="178.5" y="1326.9293">[string]postStartHookEntry</text><ellipse cx="25.5" cy="1342.5972" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="34.5" y="1347.2012">PreShutdownHooks()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="178.5" y="1347.2012">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="208.5" y="1347.2012">[string]preShutdownHookEntry</text><ellipse cx="25.5" cy="1362.8691" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="34.5" y="1367.4731">HealthzChecks() []healthz.HealthChecker</text><ellipse cx="25.5" cy="1383.141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="34.5" y="1387.745">ListedPaths() []string</text><ellipse cx="25.5" cy="1403.4129" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="34.5" y="1408.0169">NextDelegate() DelegationTarget</text><ellipse cx="25.5" cy="1423.6848" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="448" x="34.5" y="1428.2888">RegisterMuxAndDiscoveryCompleteSignal(signalName string, signal</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="485.5" y="1428.2888">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="518.5" y="1428.2888"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="521.5" y="1428.2888">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="559.5" y="1428.2888">{}) error</text><ellipse cx="25.5" cy="1443.9568" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239" x="34.5" y="1448.5607">MuxAndDiscoveryCompleteSignals()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="276.5" y="1448.5607">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="306.5" y="1448.5607">[string]</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="354.5" y="1448.5607">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="387.5" y="1448.5607"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="390.5" y="1448.5607">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="10" x="428.5" y="1448.5607">{}</text><ellipse cx="25.5" cy="1464.2287" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="34.5" y="1468.8326">RegisterDestroyFunc(destroyFn</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="245.5" y="1468.8326">func</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="275.5" y="1468.8326">() )</text><ellipse cx="25.5" cy="1484.5006" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="34.5" y="1489.1046">Destroy()</text><ellipse cx="25.5" cy="1504.7725" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="267" x="34.5" y="1509.3765">PrepareRun() preparedGenericAPIServer</text><ellipse cx="25.5" cy="1525.0444" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="488" x="34.5" y="1529.6484">InstallLegacyAPIGroup(apiPrefix string, apiGroupInfo *APIGroupInfo) error</text><ellipse cx="25.5" cy="1545.3163" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="361" x="34.5" y="1549.9203">InstallAPIGroups(apiGroupInfos ...*APIGroupInfo) error</text><ellipse cx="25.5" cy="1565.5882" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="335" x="34.5" y="1570.1922">InstallAPIGroup(apiGroupInfo *APIGroupInfo) error</text></g><!--MD5=[b9d379ba56dbfcb3121f49f5569a249d]
class apiserver.emptyDelegate--><g id="elem_apiserver.emptyDelegate"><rect codeLine="89" fill="#F1F1F1" height="250.7191" id="apiserver.emptyDelegate" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="430" x="999" y="993.032"/><ellipse cx="1159.25" cy="1009.032" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1159.4375,1015.7351 C1161.7344,1015.7351 1163.1875,1014.1101 1163.1875,1012.1101 C1163.1875,1010.282 1162.3594,1009.4382 1161.2188,1008.6414 L1160.2031,1007.9226 C1159.0781,1007.1101 1158.6563,1006.8132 1158.6563,1005.9539 C1158.6563,1005.2664 1159.1406,1004.8601 1159.7188,1004.8601 C1160.4531,1004.8601 1160.9375,1005.2507 1161.6406,1005.8914 L1162.9531,1004.3132 C1161.9844,1003.2976 1160.9688,1002.7039 1159.7031,1002.7039 C1157.5625,1002.7039 1156.1094,1004.2195 1156.1094,1006.1414 C1156.1094,1007.9382 1157.0313,1008.8445 1158.125,1009.5945 L1159.2188,1010.3445 C1160.1563,1010.9539 1160.6094,1011.532 1160.6094,1012.4695 C1160.6094,1013.1414 1160.1406,1013.5632 1159.4375,1013.5632 C1158.7344,1013.5632 1157.9844,1013.0476 1157.3281,1012.2195 L1155.7813,1013.907 C1156.8125,1015.0945 1158.1094,1015.7351 1159.4375,1015.7351 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1179.75" y="1015.136">emptyDelegate</text><line style="stroke:#181818;stroke-width:0.5;" x1="1000" x2="1428" y1="1025.032" y2="1025.032"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1007" y="1037.6679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="1019" y="1045.2719">handler http.Handler</text><line style="stroke:#181818;stroke-width:0.5;" x1="1000" x2="1428" y1="1053.3039" y2="1053.3039"/><ellipse cx="1010" cy="1068.9398" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="1019" y="1073.5438">UnprotectedHandler() http.Handler</text><ellipse cx="1010" cy="1089.2118" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1019" y="1093.8157">PostStartHooks()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1133" y="1093.8157">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="1163" y="1093.8157">[string]postStartHookEntry</text><ellipse cx="1010" cy="1109.4837" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="1019" y="1114.0876">PreShutdownHooks()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1163" y="1114.0876">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="1193" y="1114.0876">[string]preShutdownHookEntry</text><ellipse cx="1010" cy="1129.7556" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="1019" y="1134.3596">HealthzChecks() []healthz.HealthChecker</text><ellipse cx="1010" cy="1150.0275" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="1019" y="1154.6315">ListedPaths() []string</text><ellipse cx="1010" cy="1170.2994" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="1019" y="1174.9034">NextDelegate() DelegationTarget</text><ellipse cx="1010" cy="1190.5713" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="267" x="1019" y="1195.1753">PrepareRun() preparedGenericAPIServer</text><ellipse cx="1010" cy="1210.8432" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239" x="1019" y="1215.4472">MuxAndDiscoveryCompleteSignals()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1261" y="1215.4472">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="1291" y="1215.4472">[string]</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1339" y="1215.4472">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="1372" y="1215.4472"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1375" y="1215.4472">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="10" x="1413" y="1215.4472">{}</text><ellipse cx="1010" cy="1231.1151" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1019" y="1235.7191">Destroy()</text></g><!--MD5=[05fbfbfb68ad617f30465c7899e0781b]
class apiserver.preparedGenericAPIServer--><g id="elem_apiserver.preparedGenericAPIServer"><rect codeLine="103" fill="#F1F1F1" height="88.5438" id="apiserver.preparedGenericAPIServer" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="731" x="1001.5" y="1638.532"/><ellipse cx="1275.25" cy="1654.532" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1275.4375,1661.2351 C1277.7344,1661.2351 1279.1875,1659.6101 1279.1875,1657.6101 C1279.1875,1655.782 1278.3594,1654.9382 1277.2188,1654.1414 L1276.2031,1653.4226 C1275.0781,1652.6101 1274.6563,1652.3132 1274.6563,1651.4539 C1274.6563,1650.7664 1275.1406,1650.3601 1275.7188,1650.3601 C1276.4531,1650.3601 1276.9375,1650.7507 1277.6406,1651.3914 L1278.9531,1649.8132 C1277.9844,1648.7976 1276.9688,1648.2039 1275.7031,1648.2039 C1273.5625,1648.2039 1272.1094,1649.7195 1272.1094,1651.6414 C1272.1094,1653.4382 1273.0313,1654.3445 1274.125,1655.0945 L1275.2188,1655.8445 C1276.1563,1656.4539 1276.6094,1657.032 1276.6094,1657.9695 C1276.6094,1658.6414 1276.1406,1659.0632 1275.4375,1659.0632 C1274.7344,1659.0632 1273.9844,1658.5476 1273.3281,1657.7195 L1271.7813,1659.407 C1272.8125,1660.5945 1274.1094,1661.2351 1275.4375,1661.2351 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1295.75" y="1660.636">preparedGenericAPIServer</text><line style="stroke:#181818;stroke-width:0.5;" x1="1002.5" x2="1731.5" y1="1670.532" y2="1670.532"/><line style="stroke:#181818;stroke-width:0.5;" x1="1002.5" x2="1731.5" y1="1678.532" y2="1678.532"/><ellipse cx="1012.5" cy="1694.1679" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1021.5" y="1698.7719">Run(stopCh</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1103.5" y="1698.7719">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="1136.5" y="1698.7719"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1139.5" y="1698.7719">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1177.5" y="1698.7719">{}) error</text><ellipse cx="1012.5" cy="1714.4398" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="1021.5" y="1719.0438">NonBlockingRun(stopCh</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1187.5" y="1719.0438">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="1220.5" y="1719.0438"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1223.5" y="1719.0438">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247" x="1261.5" y="1719.0438">{}, shutdownTimeout time.Duration) (</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1508.5" y="1719.0438">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="1541.5" y="1719.0438"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1544.5" y="1719.0438">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="1582.5" y="1719.0438">{},</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1599.5" y="1719.0438">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="1632.5" y="1719.0438"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1635.5" y="1719.0438">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="1673.5" y="1719.0438">{}, error)</text></g><!--MD5=[8a6ba79dc0e3923f8a82351d4f0b8b21]
class apiserver.DelegationTarget--><g id="elem_apiserver.DelegationTarget"><rect codeLine="109" fill="#F1F1F1" height="230.4472" id="apiserver.DelegationTarget" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="430" x="401" y="257.032"/><ellipse cx="554.75" cy="273.032" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M551.1094,279.532 L557.8906,279.532 L557.8906,277.4539 L555.7344,277.4539 L555.7344,269.0164 L557.8906,269.0164 L557.8906,266.907 L551.1094,266.907 L551.1094,269.0164 L553.2031,269.0164 L553.2031,277.4539 L551.1094,277.4539 L551.1094,279.532 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="114" x="575.25" y="279.136">DelegationTarget</text><line style="stroke:#181818;stroke-width:0.5;" x1="402" x2="830" y1="289.032" y2="289.032"/><line style="stroke:#181818;stroke-width:0.5;" x1="402" x2="830" y1="297.032" y2="297.032"/><ellipse cx="412" cy="312.6679" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="421" y="317.2719">UnprotectedHandler() http.Handler</text><ellipse cx="412" cy="332.9398" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="421" y="337.5438">PostStartHooks()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="535" y="337.5438">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="565" y="337.5438">[string]postStartHookEntry</text><ellipse cx="412" cy="353.2118" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="421" y="357.8157">PreShutdownHooks()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="565" y="357.8157">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="595" y="357.8157">[string]preShutdownHookEntry</text><ellipse cx="412" cy="373.4837" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="421" y="378.0876">HealthzChecks() []healthz.HealthChecker</text><ellipse cx="412" cy="393.7556" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="421" y="398.3596">ListedPaths() []string</text><ellipse cx="412" cy="414.0275" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="421" y="418.6315">NextDelegate() DelegationTarget</text><ellipse cx="412" cy="434.2994" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="267" x="421" y="438.9034">PrepareRun() preparedGenericAPIServer</text><ellipse cx="412" cy="454.5713" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239" x="421" y="459.1753">MuxAndDiscoveryCompleteSignals()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="663" y="459.1753">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="693" y="459.1753">[string]</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="741" y="459.1753">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="774" y="459.1753"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="777" y="459.1753">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="10" x="815" y="459.1753">{}</text><ellipse cx="412" cy="474.8432" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="421" y="479.4472">Destroy()</text></g><!--MD5=[f25958e73d2a4559f1147dc56b1d9427]
class apiserver.APIHandlerManager--><g id="elem_apiserver.APIHandlerManager"><rect fill="#F1F1F1" height="48" id="apiserver.APIHandlerManager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="1148" y="37.532"/><ellipse cx="1163" cy="53.532" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1163.2344,60.2351 C1164.3906,60.2351 1165.4844,59.7507 1166.3125,58.7195 L1164.8906,57.2039 C1164.5,57.7507 1164.0313,58.0632 1163.4688,58.0632 C1162.2813,58.0632 1161.2656,56.9226 1161.2656,53.6882 C1161.2656,50.532 1162.3281,49.3601 1163.3594,49.3601 C1163.9531,49.3601 1164.3281,49.657 1164.75,50.157 L1166.1719,48.5945 C1165.5,47.8445 1164.5313,47.2039 1163.25,47.2039 C1160.8281,47.2039 1158.6875,49.1726 1158.6875,53.7976 C1158.6875,58.4382 1160.8281,60.2351 1163.2344,60.2351 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="1177" y="59.636">APIHandlerManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="1149" x2="1311" y1="69.532" y2="69.532"/><line style="stroke:#181818;stroke-width:0.5;" x1="1149" x2="1311" y1="77.532" y2="77.532"/></g><!--MD5=[d287c7d76fecf5dd5d8a8d3fdc3c1757]
reverse link apiserver.APIAggregator to apiserver.preparedAPIAggregator--><g id="link_apiserver.APIAggregator_apiserver.preparedAPIAggregator"><path codeLine="123" d="M1419.8923,609.7682 C1429.6735,625.8911 1438.8184,642.2176 1447,658.532 C1518.6452,801.3952 1557.6901,989.1089 1572.6934,1073.7397 " fill="none" id="apiserver.APIAggregator-backto-apiserver.preparedAPIAggregator" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1413.023,598.6414,1412.7713,605.8481,1419.3268,608.8522,1419.5785,601.6455,1413.023,598.6414" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[b4671816f72218b8d3cdca5499dfa68e]
reverse link apiserver.APIHandlerManager to apiserver.APIAggregator--><g id="link_apiserver.APIHandlerManager_apiserver.APIAggregator"><path codeLine="125" d="M1230,105.6934 C1230,117.3393 1230,130.7366 1230,145.1943 " fill="none" id="apiserver.APIHandlerManager-backto-apiserver.APIAggregator" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1223.0001,105.6381,1230,85.638,1237.0001,105.638,1223.0001,105.6381" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[04bddce4fb6c27486ec68df079398b67]
reverse link apiserver.runnable to apiserver.preparedAPIAggregator--><g id="link_apiserver.runnable_apiserver.preparedAPIAggregator"><path codeLine="127" d="M1614.3142,426.2194 C1607.3218,567.2959 1588.6504,944.0053 1582.2158,1073.8262 " fill="none" id="apiserver.runnable-backto-apiserver.preparedAPIAggregator" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1607.3325,425.6763,1615.314,406.0473,1621.3153,426.3694,1607.3325,425.6763" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3c4281b3e50031ae0956a17af01597e7]
reverse link apiserver.GenericAPIServer to apiserver.preparedGenericAPIServer--><g id="link_apiserver.GenericAPIServer_apiserver.preparedGenericAPIServer"><path codeLine="129" d="M975.1031,1574.6503 C977.3996,1575.957 979.6986,1577.251 982,1578.532 C1027.8405,1604.0479 1080.2618,1623.6131 1131.3557,1638.5153 " fill="none" id="apiserver.GenericAPIServer-backto-apiserver.preparedGenericAPIServer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="963.642,1568.0125,966.8294,1574.4809,974.0261,1574.0266,970.8388,1567.5582,963.642,1568.0125" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[591dee080bf6ff43e83d9fcbb475b7a3]
reverse link apiserver.DelegationTarget to apiserver.GenericAPIServer--><g id="link_apiserver.DelegationTarget_apiserver.GenericAPIServer"><path codeLine="131" d="M593.0573,506.888 C585.4981,551.3209 576.6202,603.5047 567.2913,658.3395 " fill="none" id="apiserver.DelegationTarget-backto-apiserver.GenericAPIServer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="586.1793,505.5793,596.4346,487.0366,599.981,507.9274,586.1793,505.5793" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[179762c5e52de2e0fb6399c6b7e5dc26]
reverse link apiserver.DelegationTarget to apiserver.emptyDelegate--><g id="link_apiserver.DelegationTarget_apiserver.emptyDelegate"><path codeLine="132" d="M810.2777,499.5245 C869.9337,544.8808 932.5567,599.4866 981,658.532 C1063.9728,759.6639 1128.1383,895.2177 1167.9332,992.9472 " fill="none" id="apiserver.DelegationTarget-backto-apiserver.emptyDelegate" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="805.7585,504.8852,793.9572,487.286,814.1577,493.6845,805.7585,504.8852" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7382ab9a44e39c0f356e9e369455692e]
reverse link apiserver.runnable to apiserver.preparedGenericAPIServer--><g id="link_apiserver.runnable_apiserver.preparedGenericAPIServer"><path codeLine="133" d="M1640.4395,424.7826 C1664.1653,481.2895 1699.2537,574.242 1713,658.532 C1745.9068,860.3108 1834.8869,1414.3945 1713,1578.532 C1695.5574,1602.0208 1644.9135,1622.2631 1587.5702,1638.5074 " fill="none" id="apiserver.runnable-backto-apiserver.preparedGenericAPIServer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1634.0017,427.5308,1632.575,406.3893,1646.8743,422.0267,1634.0017,427.5308" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5636be5ad03db5c606df4a5670b2eeac]
reverse link apiserver.preparedAPIAggregator to apiserver.preparedGenericAPIServer--><g id="link_apiserver.preparedAPIAggregator_apiserver.preparedGenericAPIServer"><path codeLine="135" d="M1570.4588,1176.2082 C1554.0782,1265.9176 1515.5668,1442.681 1447,1578.532 C1436.3446,1599.6434 1421.2286,1620.7654 1407.0006,1638.4387 " fill="none" id="apiserver.preparedAPIAggregator-backto-apiserver.preparedGenericAPIServer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1572.7618,1163.3587,1567.766,1168.5589,1570.6448,1175.1705,1575.6406,1169.9702,1572.7618,1163.3587" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[6fbf503d7169cb23ae52e0517c7d95f9]
@startuml
namespace apiserver {
    class APIAggregator << (S,Aquamarine) >> {
        - delegateHandler http.Handler
        - proxyCurrentCertKeyContent certKeyFunc
        - proxyTransport *http.Transport
        - proxyHandlers <font color=blue>map</font>[string]*proxyHandler
        - handledGroups sets.String
        - lister v1.APIServiceLister
        - serviceResolver ServiceResolver
        - openAPIConfig *common.Config
        - openAPIV3Config *common.Config
        - openAPIAggregationController *openapi.AggregationController
        - openAPIV3AggregationController *openapiv3.AggregationController
        - discoveryAggregationController DiscoveryAggregationController
        - egressSelector *egressselector.EgressSelector
        - rejectForwardingRedirects bool

        + GenericAPIServer *server.GenericAPIServer
        + APIRegistrationInformers externalversions.SharedInformerFactory

        + PrepareRun() (preparedAPIAggregator, error)
        + AddAPIService(apiService *v1.APIService) error
        + RemoveAPIService(apiServiceName string) 

    }

    class preparedAPIAggregator << (S,Aquamarine) >> {
        - runnable runnable

        + Run(stopCh <font color=blue>chan</font> <font color=blue>struct</font>{}) error

    }


    interface runnable  {
        + Run(stopCh <font color=blue>chan</font> <font color=blue>struct</font>{}) error

    }


    class GenericAPIServer << (S,Aquamarine) >> {

        + LoopbackClientConfig *rest.Config
        + ShutdownTimeout time.Duration
        + SecureServingInfo *SecureServingInfo
        + ExternalAddress string
        + Serializer runtime.NegotiatedSerializer
        + Handler *APIServerHandler
        + UnprotectedDebugSocket *routes.DebugSocket
        + DiscoveryGroupManager discovery.GroupManager
        + AggregatedDiscoveryGroupManager aggregated.ResourceManager
        + AggregatedLegacyDiscoveryGroupManager aggregated.ResourceManager
        + OpenAPIVersionedService *handler.OpenAPIService
        + OpenAPIV3VersionedService *handler3.OpenAPIService
        + StaticOpenAPISpec *spec.Swagger
        + AuditBackend audit.Backend
        + Authorizer authorizer.Authorizer
        + EquivalentResourceRegistry runtime.EquivalentResourceRegistry
        + NonLongRunningRequestWaitGroup *waitgroup.SafeWaitGroup
        + WatchRequestWaitGroup *waitgroup.RateLimitedSafeWaitGroup
        + ShutdownDelayDuration time.Duration
        + APIServerID string
        + StorageVersionManager storageversion.Manager
        + Version *version.Info
        + ShutdownSendRetryAfter bool
        + ShutdownWatchTerminationGracePeriod time.Duration

        - installAPIResources(apiPrefix string, apiGroupInfo *APIGroupInfo, openAPIModels *spec.Swagger) error
        - getAPIGroupVersion(apiGroupInfo *APIGroupInfo, groupVersion schema.GroupVersion, apiPrefix string) (*endpoints.APIGroupVersion, error)
        - newAPIGroupVersion(apiGroupInfo *APIGroupInfo, groupVersion schema.GroupVersion) *endpoints.APIGroupVersion
        - getOpenAPIModels(apiPrefix string, apiGroupInfos ...*APIGroupInfo) (*spec.Swagger, error)

        + UnprotectedHandler() http.Handler
        + PostStartHooks() <font color=blue>map</font>[string]postStartHookEntry
        + PreShutdownHooks() <font color=blue>map</font>[string]preShutdownHookEntry
        + HealthzChecks() []healthz.HealthChecker
        + ListedPaths() []string
        + NextDelegate() DelegationTarget
        + RegisterMuxAndDiscoveryCompleteSignal(signalName string, signal <font color=blue>chan</font> <font color=blue>struct</font>{}) error
        + MuxAndDiscoveryCompleteSignals() <font color=blue>map</font>[string]<font color=blue>chan</font> <font color=blue>struct</font>{}
        + RegisterDestroyFunc(destroyFn <font color=blue>func</font>() ) 
        + Destroy() 
        + PrepareRun() preparedGenericAPIServer
        + InstallLegacyAPIGroup(apiPrefix string, apiGroupInfo *APIGroupInfo) error
        + InstallAPIGroups(apiGroupInfos ...*APIGroupInfo) error
        + InstallAPIGroup(apiGroupInfo *APIGroupInfo) error

    }
    class emptyDelegate << (S,Aquamarine) >> {
        - handler http.Handler

        + UnprotectedHandler() http.Handler
        + PostStartHooks() <font color=blue>map</font>[string]postStartHookEntry
        + PreShutdownHooks() <font color=blue>map</font>[string]preShutdownHookEntry
        + HealthzChecks() []healthz.HealthChecker
        + ListedPaths() []string
        + NextDelegate() DelegationTarget
        + PrepareRun() preparedGenericAPIServer
        + MuxAndDiscoveryCompleteSignals() <font color=blue>map</font>[string]<font color=blue>chan</font> <font color=blue>struct</font>{}
        + Destroy() 

    }
    class preparedGenericAPIServer << (S,Aquamarine) >> {
        + Run(stopCh <font color=blue>chan</font> <font color=blue>struct</font>{}) error
        + NonBlockingRun(stopCh <font color=blue>chan</font> <font color=blue>struct</font>{}, shutdownTimeout time.Duration) (<font color=blue>chan</font> <font color=blue>struct</font>{}, <font color=blue>chan</font> <font color=blue>struct</font>{}, error)

    }

    interface DelegationTarget  {
        + UnprotectedHandler() http.Handler
        + PostStartHooks() <font color=blue>map</font>[string]postStartHookEntry
        + PreShutdownHooks() <font color=blue>map</font>[string]preShutdownHookEntry
        + HealthzChecks() []healthz.HealthChecker
        + ListedPaths() []string
        + NextDelegate() DelegationTarget
        + PrepareRun() preparedGenericAPIServer
        + MuxAndDiscoveryCompleteSignals() <font color=blue>map</font>[string]<font color=blue>chan</font> <font color=blue>struct</font>{}
        + Destroy() 

    }

}
"apiserver.APIAggregator" *- - "apiserver.preparedAPIAggregator"

"apiserver.APIHandlerManager" <|- - "apiserver.APIAggregator"

"apiserver.runnable" <|- - "apiserver.preparedAPIAggregator"

"apiserver.GenericAPIServer" *- - "apiserver.preparedGenericAPIServer"

"apiserver.DelegationTarget" <|- - "apiserver.GenericAPIServer"
"apiserver.DelegationTarget" <|- - "apiserver.emptyDelegate"
"apiserver.runnable" <|- - "apiserver.preparedGenericAPIServer"

"apiserver.preparedAPIAggregator" o- - "apiserver.preparedGenericAPIServer"
@enduml

PlantUML version 1.2022.7(Tue Aug 23 01:01:30 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>