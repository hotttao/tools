<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2073px" preserveAspectRatio="none" style="width:1643px;height:2073px;background:#FFFFFF;" version="1.1" viewBox="0 0 1643 2073" width="1643px" zoomAndPan="magnify"><defs/><g><!--MD5=[6a449d165e7288571682c9f52c1007ed]
cluster apiserver--><g id="cluster_apiserver"><path d="M8.5,6.532 L73.5,6.532 A3.75,3.75 0 0 1 76,9.032 L83,32.8039 L1633.5,32.8039 A2.5,2.5 0 0 1 1636,35.3039 L1636,2064.032 A2.5,2.5 0 0 1 1633.5,2066.532 L8.5,2066.532 A2.5,2.5 0 0 1 6,2064.032 L6,9.032 A2.5,2.5 0 0 1 8.5,6.532 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="83" y1="32.8039" y2="32.8039"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="64" x="10" y="24.7719">apiserver</text></g><!--MD5=[7c4ad38fb4aa9d63783092a764c3db8f]
class apiserver.APIAggregator--><g id="elem_apiserver.APIAggregator"><rect codeLine="2" fill="#F1F1F1" height="453.4382" id="apiserver.APIAggregator" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="472" x="796" y="1307.532"/><ellipse cx="980.75" cy="1323.532" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M980.9375,1330.2351 C983.2344,1330.2351 984.6875,1328.6101 984.6875,1326.6101 C984.6875,1324.782 983.8594,1323.9382 982.7188,1323.1414 L981.7031,1322.4226 C980.5781,1321.6101 980.1563,1321.3132 980.1563,1320.4539 C980.1563,1319.7664 980.6406,1319.3601 981.2188,1319.3601 C981.9531,1319.3601 982.4375,1319.7507 983.1406,1320.3914 L984.4531,1318.8132 C983.4844,1317.7976 982.4688,1317.2039 981.2031,1317.2039 C979.0625,1317.2039 977.6094,1318.7195 977.6094,1320.6414 C977.6094,1322.4382 978.5313,1323.3445 979.625,1324.0945 L980.7188,1324.8445 C981.6563,1325.4539 982.1094,1326.032 982.1094,1326.9695 C982.1094,1327.6414 981.6406,1328.0632 980.9375,1328.0632 C980.2344,1328.0632 979.4844,1327.5476 978.8281,1326.7195 L977.2813,1328.407 C978.3125,1329.5945 979.6094,1330.2351 980.9375,1330.2351 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1001.25" y="1329.636">APIAggregator</text><line style="stroke:#181818;stroke-width:0.5;" x1="797" x2="1267" y1="1339.532" y2="1339.532"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="804" y="1352.1679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="816" y="1359.7719">delegateHandler http.Handler</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="804" y="1372.4398"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="275" x="816" y="1380.0438">proxyCurrentCertKeyContent certKeyFunc</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="804" y="1392.7118"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="816" y="1400.3157">proxyTransport *http.Transport</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="804" y="1412.9837"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="816" y="1420.5876">proxyHandlers</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="915" y="1420.5876">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="945" y="1420.5876">[string]*proxyHandler</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="804" y="1433.2556"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="816" y="1440.8596">handledGroups sets.String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="804" y="1453.5275"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="816" y="1461.1315">lister v1.APIServiceLister</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="804" y="1473.7994"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="816" y="1481.4034">serviceResolver ServiceResolver</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="804" y="1494.0713"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="816" y="1501.6753">openAPIConfig *common.Config</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="804" y="1514.3432"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230" x="816" y="1521.9472">openAPIV3Config *common.Config</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="804" y="1534.6151"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="415" x="816" y="1542.2191">openAPIAggregationController *openapi.AggregationController</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="804" y="1554.8871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="446" x="816" y="1562.491">openAPIV3AggregationController *openapiv3.AggregationController</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="804" y="1575.159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="418" x="816" y="1582.7629">discoveryAggregationController DiscoveryAggregationController</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="804" y="1595.4309"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="301" x="816" y="1603.0349">egressSelector *egressselector.EgressSelector</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="804" y="1615.7028"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="816" y="1623.3068">rejectForwardingRedirects bool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="816" y="1643.5787"> </text><ellipse cx="807" cy="1659.2466" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="816" y="1663.8506">GenericAPIServer *server.GenericAPIServer</text><ellipse cx="807" cy="1679.5185" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="434" x="816" y="1684.1225">APIRegistrationInformers externalversions.SharedInformerFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="797" x2="1267" y1="1692.1545" y2="1692.1545"/><ellipse cx="807" cy="1707.7904" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295" x="816" y="1712.3944">PrepareRun() (preparedAPIAggregator, error)</text><ellipse cx="807" cy="1728.0623" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="306" x="816" y="1732.6663">AddAPIService(apiService *v1.APIService) error</text><ellipse cx="807" cy="1748.3343" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280" x="816" y="1752.9382">RemoveAPIService(apiServiceName string)</text></g><!--MD5=[cb7bf8af81f389b95d4a2b173b000214]
class apiserver.preparedAPIAggregator--><g id="elem_apiserver.preparedAPIAggregator"><rect codeLine="27" fill="#F1F1F1" height="88.5438" id="apiserver.preparedAPIAggregator" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="231" x="975.5" y="1820.532"/><ellipse cx="1010.3" cy="1836.532" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1010.4875,1843.2351 C1012.7844,1843.2351 1014.2375,1841.6101 1014.2375,1839.6101 C1014.2375,1837.782 1013.4094,1836.9382 1012.2688,1836.1414 L1011.2531,1835.4226 C1010.1281,1834.6101 1009.7063,1834.3132 1009.7063,1833.4539 C1009.7063,1832.7664 1010.1906,1832.3601 1010.7688,1832.3601 C1011.5031,1832.3601 1011.9875,1832.7507 1012.6906,1833.3914 L1014.0031,1831.8132 C1013.0344,1830.7976 1012.0188,1830.2039 1010.7531,1830.2039 C1008.6125,1830.2039 1007.1594,1831.7195 1007.1594,1833.6414 C1007.1594,1835.4382 1008.0813,1836.3445 1009.175,1837.0945 L1010.2688,1837.8445 C1011.2063,1838.4539 1011.6594,1839.032 1011.6594,1839.9695 C1011.6594,1840.6414 1011.1906,1841.0632 1010.4875,1841.0632 C1009.7844,1841.0632 1009.0344,1840.5476 1008.3781,1839.7195 L1006.8313,1841.407 C1007.8625,1842.5945 1009.1594,1843.2351 1010.4875,1843.2351 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="1028.7" y="1842.636">preparedAPIAggregator</text><line style="stroke:#181818;stroke-width:0.5;" x1="976.5" x2="1205.5" y1="1852.532" y2="1852.532"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="983.5" y="1865.1679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="995.5" y="1872.7719">runnable runnable</text><line style="stroke:#181818;stroke-width:0.5;" x1="976.5" x2="1205.5" y1="1880.8039" y2="1880.8039"/><ellipse cx="986.5" cy="1896.4398" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="995.5" y="1901.0438">Run(stopCh</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1077.5" y="1901.0438">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="1110.5" y="1901.0438"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1113.5" y="1901.0438">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1151.5" y="1901.0438">{}) error</text></g><!--MD5=[14daac311bbc1317ee750cb1aacae1d7]
class apiserver.runnable--><g id="elem_apiserver.runnable"><rect codeLine="35" fill="#F1F1F1" height="68.2719" id="apiserver.runnable" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="231" x="1303.5" y="1500.032"/><ellipse cx="1384.25" cy="1516.032" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1380.6094,1522.532 L1387.3906,1522.532 L1387.3906,1520.4539 L1385.2344,1520.4539 L1385.2344,1512.0164 L1387.3906,1512.0164 L1387.3906,1509.907 L1380.6094,1509.907 L1380.6094,1512.0164 L1382.7031,1512.0164 L1382.7031,1520.4539 L1380.6094,1520.4539 L1380.6094,1522.532 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="61" x="1404.75" y="1522.136">runnable</text><line style="stroke:#181818;stroke-width:0.5;" x1="1304.5" x2="1533.5" y1="1532.032" y2="1532.032"/><line style="stroke:#181818;stroke-width:0.5;" x1="1304.5" x2="1533.5" y1="1540.032" y2="1540.032"/><ellipse cx="1314.5" cy="1555.6679" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1323.5" y="1560.2719">Run(stopCh</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1405.5" y="1560.2719">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="1438.5" y="1560.2719"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1441.5" y="1560.2719">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1479.5" y="1560.2719">{}) error</text></g><!--MD5=[058cc08b14f503cf4fcb57ffb01065c7]
class apiserver.GenericAPIServer--><g id="elem_apiserver.GenericAPIServer"><rect codeLine="41" fill="#F1F1F1" height="919.6922" id="apiserver.GenericAPIServer" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="949" x="14.5" y="327.532"/><ellipse cx="427.75" cy="343.532" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M427.9375,350.2351 C430.2344,350.2351 431.6875,348.6101 431.6875,346.6101 C431.6875,344.782 430.8594,343.9382 429.7188,343.1414 L428.7031,342.4226 C427.5781,341.6101 427.1563,341.3132 427.1563,340.4539 C427.1563,339.7664 427.6406,339.3601 428.2188,339.3601 C428.9531,339.3601 429.4375,339.7507 430.1406,340.3914 L431.4531,338.8132 C430.4844,337.7976 429.4688,337.2039 428.2031,337.2039 C426.0625,337.2039 424.6094,338.7195 424.6094,340.6414 C424.6094,342.4382 425.5313,343.3445 426.625,344.0945 L427.7188,344.8445 C428.6563,345.4539 429.1094,346.032 429.1094,346.9695 C429.1094,347.6414 428.6406,348.0632 427.9375,348.0632 C427.2344,348.0632 426.4844,347.5476 425.8281,346.7195 L424.2813,348.407 C425.3125,349.5945 426.6094,350.2351 427.9375,350.2351 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="448.25" y="349.636">GenericAPIServer</text><line style="stroke:#181818;stroke-width:0.5;" x1="15.5" x2="962.5" y1="359.532" y2="359.532"/><ellipse cx="25.5" cy="375.1679" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229" x="34.5" y="379.7719">LoopbackClientConfig *rest.Config</text><ellipse cx="25.5" cy="395.4398" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="34.5" y="400.0438">ShutdownTimeout time.Duration</text><ellipse cx="25.5" cy="415.7118" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250" x="34.5" y="420.3157">SecureServingInfo *SecureServingInfo</text><ellipse cx="25.5" cy="435.9837" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="34.5" y="440.5876">ExternalAddress string</text><ellipse cx="25.5" cy="456.2556" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255" x="34.5" y="460.8596">Serializer runtime.NegotiatedSerializer</text><ellipse cx="25.5" cy="476.5275" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="34.5" y="481.1315">Handler *APIServerHandler</text><ellipse cx="25.5" cy="496.7994" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="315" x="34.5" y="501.4034">UnprotectedDebugSocket *routes.DebugSocket</text><ellipse cx="25.5" cy="517.0713" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="34.5" y="521.6753">DiscoveryGroupManager discovery.GroupManager</text><ellipse cx="25.5" cy="537.3432" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="437" x="34.5" y="541.9472">AggregatedDiscoveryGroupManager aggregated.ResourceManager</text><ellipse cx="25.5" cy="557.6151" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="483" x="34.5" y="562.2191">AggregatedLegacyDiscoveryGroupManager aggregated.ResourceManager</text><ellipse cx="25.5" cy="577.8871" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="342" x="34.5" y="582.491">OpenAPIVersionedService *handler.OpenAPIService</text><ellipse cx="25.5" cy="598.159" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="366" x="34.5" y="602.7629">OpenAPIV3VersionedService *handler3.OpenAPIService</text><ellipse cx="25.5" cy="618.4309" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228" x="34.5" y="623.0349">StaticOpenAPISpec *spec.Swagger</text><ellipse cx="25.5" cy="638.7028" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="34.5" y="643.3068">AuditBackend audit.Backend</text><ellipse cx="25.5" cy="658.9747" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="34.5" y="663.5787">Authorizer authorizer.Authorizer</text><ellipse cx="25.5" cy="679.2466" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="430" x="34.5" y="683.8506">EquivalentResourceRegistry runtime.EquivalentResourceRegistry</text><ellipse cx="25.5" cy="699.5185" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="422" x="34.5" y="704.1225">NonLongRunningRequestWaitGroup *waitgroup.SafeWaitGroup</text><ellipse cx="25.5" cy="719.7904" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="427" x="34.5" y="724.3944">WatchRequestWaitGroup *waitgroup.RateLimitedSafeWaitGroup</text><ellipse cx="25.5" cy="740.0623" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258" x="34.5" y="744.6663">ShutdownDelayDuration time.Duration</text><ellipse cx="25.5" cy="760.3343" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="34.5" y="764.9382">APIServerID string</text><ellipse cx="25.5" cy="780.6062" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="317" x="34.5" y="785.2101">StorageVersionManager storageversion.Manager</text><ellipse cx="25.5" cy="800.8781" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="34.5" y="805.4821">Version *version.Info</text><ellipse cx="25.5" cy="821.15" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="34.5" y="825.754">ShutdownSendRetryAfter bool</text><ellipse cx="25.5" cy="841.4219" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="366" x="34.5" y="846.0259">ShutdownWatchTerminationGracePeriod time.Duration</text><line style="stroke:#181818;stroke-width:0.5;" x1="15.5" x2="962.5" y1="854.0579" y2="854.0579"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="22.5" y="866.6938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="680" x="34.5" y="874.2978">installAPIResources(apiPrefix string, apiGroupInfo *APIGroupInfo, openAPIModels *spec.Swagger) error</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="22.5" y="886.9657"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="923" x="34.5" y="894.5697">getAPIGroupVersion(apiGroupInfo *APIGroupInfo, groupVersion schema.GroupVersion, apiPrefix string) (*endpoints.APIGroupVersion, error)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="22.5" y="907.2376"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="775" x="34.5" y="914.8416">newAPIGroupVersion(apiGroupInfo *APIGroupInfo, groupVersion schema.GroupVersion) *endpoints.APIGroupVersion</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="22.5" y="927.5096"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="598" x="34.5" y="935.1135">getOpenAPIModels(apiPrefix string, apiGroupInfos ...*APIGroupInfo) (*spec.Swagger, error)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="34.5" y="955.3854"> </text><ellipse cx="25.5" cy="971.0534" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="34.5" y="975.6573">UnprotectedHandler() http.Handler</text><ellipse cx="25.5" cy="991.3253" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="34.5" y="995.9293">PostStartHooks()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="148.5" y="995.9293">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="178.5" y="995.9293">[string]postStartHookEntry</text><ellipse cx="25.5" cy="1011.5972" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="34.5" y="1016.2012">PreShutdownHooks()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="178.5" y="1016.2012">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="208.5" y="1016.2012">[string]preShutdownHookEntry</text><ellipse cx="25.5" cy="1031.8691" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="34.5" y="1036.4731">HealthzChecks() []healthz.HealthChecker</text><ellipse cx="25.5" cy="1052.141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="34.5" y="1056.745">ListedPaths() []string</text><ellipse cx="25.5" cy="1072.4129" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="34.5" y="1077.0169">NextDelegate() DelegationTarget</text><ellipse cx="25.5" cy="1092.6848" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="448" x="34.5" y="1097.2888">RegisterMuxAndDiscoveryCompleteSignal(signalName string, signal</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="485.5" y="1097.2888">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="518.5" y="1097.2888"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="521.5" y="1097.2888">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="559.5" y="1097.2888">{}) error</text><ellipse cx="25.5" cy="1112.9568" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239" x="34.5" y="1117.5607">MuxAndDiscoveryCompleteSignals()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="276.5" y="1117.5607">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="306.5" y="1117.5607">[string]</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="354.5" y="1117.5607">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="387.5" y="1117.5607"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="390.5" y="1117.5607">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="10" x="428.5" y="1117.5607">{}</text><ellipse cx="25.5" cy="1133.2287" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="34.5" y="1137.8326">RegisterDestroyFunc(destroyFn</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="245.5" y="1137.8326">func</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="275.5" y="1137.8326">() )</text><ellipse cx="25.5" cy="1153.5006" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="34.5" y="1158.1046">Destroy()</text><ellipse cx="25.5" cy="1173.7725" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="267" x="34.5" y="1178.3765">PrepareRun() preparedGenericAPIServer</text><ellipse cx="25.5" cy="1194.0444" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="488" x="34.5" y="1198.6484">InstallLegacyAPIGroup(apiPrefix string, apiGroupInfo *APIGroupInfo) error</text><ellipse cx="25.5" cy="1214.3163" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="361" x="34.5" y="1218.9203">InstallAPIGroups(apiGroupInfos ...*APIGroupInfo) error</text><ellipse cx="25.5" cy="1234.5882" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="335" x="34.5" y="1239.1922">InstallAPIGroup(apiGroupInfo *APIGroupInfo) error</text></g><!--MD5=[b9d379ba56dbfcb3121f49f5569a249d]
class apiserver.emptyDelegate--><g id="elem_apiserver.emptyDelegate"><rect codeLine="89" fill="#F1F1F1" height="250.7191" id="apiserver.emptyDelegate" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="430" x="999" y="662.032"/><ellipse cx="1159.25" cy="678.032" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1159.4375,684.7351 C1161.7344,684.7351 1163.1875,683.1101 1163.1875,681.1101 C1163.1875,679.282 1162.3594,678.4382 1161.2188,677.6414 L1160.2031,676.9226 C1159.0781,676.1101 1158.6563,675.8132 1158.6563,674.9539 C1158.6563,674.2664 1159.1406,673.8601 1159.7188,673.8601 C1160.4531,673.8601 1160.9375,674.2507 1161.6406,674.8914 L1162.9531,673.3132 C1161.9844,672.2976 1160.9688,671.7039 1159.7031,671.7039 C1157.5625,671.7039 1156.1094,673.2195 1156.1094,675.1414 C1156.1094,676.9382 1157.0313,677.8445 1158.125,678.5945 L1159.2188,679.3445 C1160.1563,679.9539 1160.6094,680.532 1160.6094,681.4695 C1160.6094,682.1414 1160.1406,682.5632 1159.4375,682.5632 C1158.7344,682.5632 1157.9844,682.0476 1157.3281,681.2195 L1155.7813,682.907 C1156.8125,684.0945 1158.1094,684.7351 1159.4375,684.7351 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1179.75" y="684.136">emptyDelegate</text><line style="stroke:#181818;stroke-width:0.5;" x1="1000" x2="1428" y1="694.032" y2="694.032"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1007" y="706.6679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="1019" y="714.2719">handler http.Handler</text><line style="stroke:#181818;stroke-width:0.5;" x1="1000" x2="1428" y1="722.3039" y2="722.3039"/><ellipse cx="1010" cy="737.9398" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="1019" y="742.5438">UnprotectedHandler() http.Handler</text><ellipse cx="1010" cy="758.2118" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1019" y="762.8157">PostStartHooks()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1133" y="762.8157">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="1163" y="762.8157">[string]postStartHookEntry</text><ellipse cx="1010" cy="778.4837" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="1019" y="783.0876">PreShutdownHooks()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1163" y="783.0876">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="1193" y="783.0876">[string]preShutdownHookEntry</text><ellipse cx="1010" cy="798.7556" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="1019" y="803.3596">HealthzChecks() []healthz.HealthChecker</text><ellipse cx="1010" cy="819.0275" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="1019" y="823.6315">ListedPaths() []string</text><ellipse cx="1010" cy="839.2994" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="1019" y="843.9034">NextDelegate() DelegationTarget</text><ellipse cx="1010" cy="859.5713" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="267" x="1019" y="864.1753">PrepareRun() preparedGenericAPIServer</text><ellipse cx="1010" cy="879.8432" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239" x="1019" y="884.4472">MuxAndDiscoveryCompleteSignals()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1261" y="884.4472">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="1291" y="884.4472">[string]</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1339" y="884.4472">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="1372" y="884.4472"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1375" y="884.4472">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="10" x="1413" y="884.4472">{}</text><ellipse cx="1010" cy="900.1151" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1019" y="904.7191">Destroy()</text></g><!--MD5=[05fbfbfb68ad617f30465c7899e0781b]
class apiserver.preparedGenericAPIServer--><g id="elem_apiserver.preparedGenericAPIServer"><rect codeLine="103" fill="#F1F1F1" height="88.5438" id="apiserver.preparedGenericAPIServer" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="731" x="725.5" y="1969.532"/><ellipse cx="999.25" cy="1985.532" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M999.4375,1992.2351 C1001.7344,1992.2351 1003.1875,1990.6101 1003.1875,1988.6101 C1003.1875,1986.782 1002.3594,1985.9382 1001.2188,1985.1414 L1000.2031,1984.4226 C999.0781,1983.6101 998.6563,1983.3132 998.6563,1982.4539 C998.6563,1981.7664 999.1406,1981.3601 999.7188,1981.3601 C1000.4531,1981.3601 1000.9375,1981.7507 1001.6406,1982.3914 L1002.9531,1980.8132 C1001.9844,1979.7976 1000.9688,1979.2039 999.7031,1979.2039 C997.5625,1979.2039 996.1094,1980.7195 996.1094,1982.6414 C996.1094,1984.4382 997.0313,1985.3445 998.125,1986.0945 L999.2188,1986.8445 C1000.1563,1987.4539 1000.6094,1988.032 1000.6094,1988.9695 C1000.6094,1989.6414 1000.1406,1990.0632 999.4375,1990.0632 C998.7344,1990.0632 997.9844,1989.5476 997.3281,1988.7195 L995.7813,1990.407 C996.8125,1991.5945 998.1094,1992.2351 999.4375,1992.2351 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1019.75" y="1991.636">preparedGenericAPIServer</text><line style="stroke:#181818;stroke-width:0.5;" x1="726.5" x2="1455.5" y1="2001.532" y2="2001.532"/><line style="stroke:#181818;stroke-width:0.5;" x1="726.5" x2="1455.5" y1="2009.532" y2="2009.532"/><ellipse cx="736.5" cy="2025.1679" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="745.5" y="2029.7719">Run(stopCh</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="827.5" y="2029.7719">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="860.5" y="2029.7719"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="863.5" y="2029.7719">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="901.5" y="2029.7719">{}) error</text><ellipse cx="736.5" cy="2045.4398" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="745.5" y="2050.0438">NonBlockingRun(stopCh</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="911.5" y="2050.0438">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="944.5" y="2050.0438"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="947.5" y="2050.0438">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247" x="985.5" y="2050.0438">{}, shutdownTimeout time.Duration) (</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1232.5" y="2050.0438">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="1265.5" y="2050.0438"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1268.5" y="2050.0438">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="1306.5" y="2050.0438">{},</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1323.5" y="2050.0438">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="1356.5" y="2050.0438"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1359.5" y="2050.0438">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="1397.5" y="2050.0438">{}, error)</text></g><!--MD5=[8a6ba79dc0e3923f8a82351d4f0b8b21]
class apiserver.DelegationTarget--><g id="elem_apiserver.DelegationTarget"><rect codeLine="109" fill="#F1F1F1" height="230.4472" id="apiserver.DelegationTarget" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="430" x="636" y="37.532"/><ellipse cx="789.75" cy="53.532" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M786.1094,60.032 L792.8906,60.032 L792.8906,57.9539 L790.7344,57.9539 L790.7344,49.5164 L792.8906,49.5164 L792.8906,47.407 L786.1094,47.407 L786.1094,49.5164 L788.2031,49.5164 L788.2031,57.9539 L786.1094,57.9539 L786.1094,60.032 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="114" x="810.25" y="59.636">DelegationTarget</text><line style="stroke:#181818;stroke-width:0.5;" x1="637" x2="1065" y1="69.532" y2="69.532"/><line style="stroke:#181818;stroke-width:0.5;" x1="637" x2="1065" y1="77.532" y2="77.532"/><ellipse cx="647" cy="93.1679" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="656" y="97.7719">UnprotectedHandler() http.Handler</text><ellipse cx="647" cy="113.4398" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="656" y="118.0438">PostStartHooks()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="770" y="118.0438">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="800" y="118.0438">[string]postStartHookEntry</text><ellipse cx="647" cy="133.7118" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="656" y="138.3157">PreShutdownHooks()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="800" y="138.3157">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="830" y="138.3157">[string]preShutdownHookEntry</text><ellipse cx="647" cy="153.9837" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="656" y="158.5876">HealthzChecks() []healthz.HealthChecker</text><ellipse cx="647" cy="174.2556" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="656" y="178.8596">ListedPaths() []string</text><ellipse cx="647" cy="194.5275" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="656" y="199.1315">NextDelegate() DelegationTarget</text><ellipse cx="647" cy="214.7994" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="267" x="656" y="219.4034">PrepareRun() preparedGenericAPIServer</text><ellipse cx="647" cy="235.0713" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239" x="656" y="239.6753">MuxAndDiscoveryCompleteSignals()</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="898" y="239.6753">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="928" y="239.6753">[string]</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="976" y="239.6753">chan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3" x="1009" y="239.6753"> </text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1012" y="239.6753">struct</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="10" x="1050" y="239.6753">{}</text><ellipse cx="647" cy="255.3432" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="656" y="259.9472">Destroy()</text></g><!--MD5=[9e4849dba1f9042a935afa3e22ff4759]
class apiserver.CustomResourceDefinitions--><g id="elem_apiserver.CustomResourceDefinitions"><rect codeLine="122" fill="#F1F1F1" height="88.5438" id="apiserver.CustomResourceDefinitions" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="358" x="403" y="1489.532"/><ellipse cx="485.25" cy="1505.532" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M485.4375,1512.2351 C487.7344,1512.2351 489.1875,1510.6101 489.1875,1508.6101 C489.1875,1506.782 488.3594,1505.9382 487.2188,1505.1414 L486.2031,1504.4226 C485.0781,1503.6101 484.6563,1503.3132 484.6563,1502.4539 C484.6563,1501.7664 485.1406,1501.3601 485.7188,1501.3601 C486.4531,1501.3601 486.9375,1501.7507 487.6406,1502.3914 L488.9531,1500.8132 C487.9844,1499.7976 486.9688,1499.2039 485.7031,1499.2039 C483.5625,1499.2039 482.1094,1500.7195 482.1094,1502.6414 C482.1094,1504.4382 483.0313,1505.3445 484.125,1506.0945 L485.2188,1506.8445 C486.1563,1507.4539 486.6094,1508.032 486.6094,1508.9695 C486.6094,1509.6414 486.1406,1510.0632 485.4375,1510.0632 C484.7344,1510.0632 483.9844,1509.5476 483.3281,1508.7195 L481.7813,1510.407 C482.8125,1511.5945 484.1094,1512.2351 485.4375,1512.2351 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="505.75" y="1511.636">CustomResourceDefinitions</text><line style="stroke:#181818;stroke-width:0.5;" x1="404" x2="760" y1="1521.532" y2="1521.532"/><ellipse cx="414" cy="1537.1679" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="423" y="1541.7719">GenericAPIServer *apiserver.GenericAPIServer</text><ellipse cx="414" cy="1557.4398" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="332" x="423" y="1562.0438">Informers externalversions.SharedInformerFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="404" x2="760" y1="1570.0758" y2="1570.0758"/></g><!--MD5=[f25958e73d2a4559f1147dc56b1d9427]
class apiserver.APIHandlerManager--><g id="elem_apiserver.APIHandlerManager"><rect fill="#F1F1F1" height="48" id="apiserver.APIHandlerManager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="1464" y="763.532"/><ellipse cx="1479" cy="779.532" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1479.2344,786.2351 C1480.3906,786.2351 1481.4844,785.7507 1482.3125,784.7195 L1480.8906,783.2039 C1480.5,783.7507 1480.0313,784.0632 1479.4688,784.0632 C1478.2813,784.0632 1477.2656,782.9226 1477.2656,779.6882 C1477.2656,776.532 1478.3281,775.3601 1479.3594,775.3601 C1479.9531,775.3601 1480.3281,775.657 1480.75,776.157 L1482.1719,774.5945 C1481.5,773.8445 1480.5313,773.2039 1479.25,773.2039 C1476.8281,773.2039 1474.6875,775.1726 1474.6875,779.7976 C1474.6875,784.4382 1476.8281,786.2351 1479.2344,786.2351 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="1493" y="785.636">APIHandlerManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="1465" x2="1627" y1="795.532" y2="795.532"/><line style="stroke:#181818;stroke-width:0.5;" x1="1465" x2="1627" y1="803.532" y2="803.532"/></g><!--MD5=[d287c7d76fecf5dd5d8a8d3fdc3c1757]
reverse link apiserver.APIAggregator to apiserver.preparedAPIAggregator--><g id="link_apiserver.APIAggregator_apiserver.preparedAPIAggregator"><path codeLine="134" d="M1075.9515,1780.6075 C1078.5629,1795.2576 1080.9736,1808.782 1083.0654,1820.5174 " fill="none" id="apiserver.APIAggregator-backto-apiserver.preparedAPIAggregator" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1069.0314,1781.6739,1072.413,1760.7559,1082.8141,1779.2171,1069.0314,1781.6739" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[b4671816f72218b8d3cdca5499dfa68e]
reverse link apiserver.APIHandlerManager to apiserver.APIAggregator--><g id="link_apiserver.APIHandlerManager_apiserver.APIAggregator"><path codeLine="136" d="M1549.5175,831.9916 C1554.1173,921.8152 1551.5559,1126.6309 1447,1247.532 C1397.049,1305.2919 1351.3997,1268.1089 1286,1307.532 C1280.0544,1311.116 1274.1195,1314.8482 1268.2068,1318.7074 " fill="none" id="apiserver.APIHandlerManager-backto-apiserver.APIAggregator" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1542.5139,832.1518,1548.2514,811.7537,1556.4866,831.2776,1542.5139,832.1518" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[04bddce4fb6c27486ec68df079398b67]
reverse link apiserver.runnable to apiserver.preparedAPIAggregator--><g id="link_apiserver.runnable_apiserver.preparedAPIAggregator"><path codeLine="138" d="M1398.1075,1586.6351 C1376.218,1636.4098 1337.7931,1710.7205 1286,1760.532 C1261.0847,1784.4941 1229.5867,1804.5236 1199.2139,1820.424 " fill="none" id="apiserver.runnable-backto-apiserver.preparedAPIAggregator" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1391.6698,1583.8862,1405.9431,1568.225,1404.5516,1589.3689,1391.6698,1583.8862" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3c4281b3e50031ae0956a17af01597e7]
reverse link apiserver.GenericAPIServer to apiserver.preparedGenericAPIServer--><g id="link_apiserver.GenericAPIServer_apiserver.preparedGenericAPIServer"><path codeLine="140" d="M314.9264,1260.5422 C282.376,1431.3356 285.2024,1617.1719 386,1760.532 C445.7551,1845.5191 705.4638,1923.1526 892.3056,1969.5156 " fill="none" id="apiserver.GenericAPIServer-backto-apiserver.preparedGenericAPIServer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="317.4356,1247.749,312.3555,1252.8669,315.1259,1259.5246,320.206,1254.4067,317.4356,1247.749" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5cb2e105658852039e2891dcf8d5790c]
reverse link apiserver.GenericAPIServer to apiserver.APIAggregator--><g id="link_apiserver.GenericAPIServer_apiserver.APIAggregator"><path codeLine="141" d="M831.5882,1258.5119 C843.6787,1275.1336 855.5669,1291.4771 867.1473,1307.3976 " fill="none" id="apiserver.GenericAPIServer-backto-apiserver.APIAggregator" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="823.615,1247.5506,823.9097,1254.7557,830.6739,1257.2548,830.3792,1250.0498,823.615,1247.5506" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[86922eb39641b584e878bf29934c7656]
reverse link apiserver.GenericAPIServer to apiserver.CustomResourceDefinitions--><g id="link_apiserver.GenericAPIServer_apiserver.CustomResourceDefinitions"><path codeLine="142" d="M547.9343,1260.5908 C559.6654,1354.7547 570.2569,1439.7715 576.4113,1489.1724 " fill="none" id="apiserver.GenericAPIServer-backto-apiserver.CustomResourceDefinitions" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="546.3097,1247.5506,543.0822,1253.9991,547.7933,1259.4585,551.0208,1253.01,546.3097,1247.5506" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[591dee080bf6ff43e83d9fcbb475b7a3]
reverse link apiserver.DelegationTarget to apiserver.GenericAPIServer--><g id="link_apiserver.DelegationTarget_apiserver.GenericAPIServer"><path codeLine="144" d="M775.1423,285.5973 C767.5638,298.8911 759.6088,312.8453 751.3698,327.2977 " fill="none" id="apiserver.DelegationTarget-backto-apiserver.GenericAPIServer" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="769.2483,281.802,785.2347,267.8939,781.4108,288.7356,769.2483,281.802" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[179762c5e52de2e0fb6399c6b7e5dc26]
reverse link apiserver.DelegationTarget to apiserver.emptyDelegate--><g id="link_apiserver.DelegationTarget_apiserver.emptyDelegate"><path codeLine="145" d="M952.6411,284.4639 C962.5635,298.7711 972.2002,313.3035 981,327.532 C1048.4532,436.5984 1113.3735,567.6388 1157.4747,661.9106 " fill="none" id="apiserver.DelegationTarget-backto-apiserver.emptyDelegate" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="946.6985,288.1832,940.895,267.8038,958.1406,280.116,946.6985,288.1832" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7382ab9a44e39c0f356e9e369455692e]
reverse link apiserver.runnable to apiserver.preparedGenericAPIServer--><g id="link_apiserver.runnable_apiserver.preparedGenericAPIServer"><path codeLine="146" d="M1399.799,1587.139 C1370.2805,1663.9301 1308.2144,1807.8897 1224,1909.532 C1205.5461,1931.8049 1181.6031,1952.4088 1159.127,1969.3306 " fill="none" id="apiserver.runnable-backto-apiserver.preparedGenericAPIServer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1393.319,1584.4838,1406.9253,1568.2397,1406.4187,1589.4233,1393.319,1584.4838" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5636be5ad03db5c606df4a5670b2eeac]
reverse link apiserver.preparedAPIAggregator to apiserver.preparedGenericAPIServer--><g id="link_apiserver.preparedAPIAggregator_apiserver.preparedGenericAPIServer"><path codeLine="148" d="M1091,1922.9534 C1091,1938.3658 1091,1954.7754 1091,1969.3586 " fill="none" id="apiserver.preparedAPIAggregator-backto-apiserver.preparedGenericAPIServer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1091,1909.7369,1087,1915.7369,1091,1921.7369,1095,1915.7369,1091,1909.7369" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[350e92e4837cc4b6d131b7f082a18644]
@startuml
namespace apiserver {
    class APIAggregator << (S,Aquamarine) >> {
        - delegateHandler http.Handler
        - proxyCurrentCertKeyContent certKeyFunc
        - proxyTransport *http.Transport
        - proxyHandlers <font color=blue>map</font>[string]*proxyHandler
        - handledGroups sets.String
        - lister v1.APIServiceLister
        - serviceResolver ServiceResolver
        - openAPIConfig *common.Config
        - openAPIV3Config *common.Config
        - openAPIAggregationController *openapi.AggregationController
        - openAPIV3AggregationController *openapiv3.AggregationController
        - discoveryAggregationController DiscoveryAggregationController
        - egressSelector *egressselector.EgressSelector
        - rejectForwardingRedirects bool

        + GenericAPIServer *server.GenericAPIServer
        + APIRegistrationInformers externalversions.SharedInformerFactory

        + PrepareRun() (preparedAPIAggregator, error)
        + AddAPIService(apiService *v1.APIService) error
        + RemoveAPIService(apiServiceName string) 

    }

    class preparedAPIAggregator << (S,Aquamarine) >> {
        - runnable runnable

        + Run(stopCh <font color=blue>chan</font> <font color=blue>struct</font>{}) error

    }


    interface runnable  {
        + Run(stopCh <font color=blue>chan</font> <font color=blue>struct</font>{}) error

    }


    class GenericAPIServer << (S,Aquamarine) >> {

        + LoopbackClientConfig *rest.Config
        + ShutdownTimeout time.Duration
        + SecureServingInfo *SecureServingInfo
        + ExternalAddress string
        + Serializer runtime.NegotiatedSerializer
        + Handler *APIServerHandler
        + UnprotectedDebugSocket *routes.DebugSocket
        + DiscoveryGroupManager discovery.GroupManager
        + AggregatedDiscoveryGroupManager aggregated.ResourceManager
        + AggregatedLegacyDiscoveryGroupManager aggregated.ResourceManager
        + OpenAPIVersionedService *handler.OpenAPIService
        + OpenAPIV3VersionedService *handler3.OpenAPIService
        + StaticOpenAPISpec *spec.Swagger
        + AuditBackend audit.Backend
        + Authorizer authorizer.Authorizer
        + EquivalentResourceRegistry runtime.EquivalentResourceRegistry
        + NonLongRunningRequestWaitGroup *waitgroup.SafeWaitGroup
        + WatchRequestWaitGroup *waitgroup.RateLimitedSafeWaitGroup
        + ShutdownDelayDuration time.Duration
        + APIServerID string
        + StorageVersionManager storageversion.Manager
        + Version *version.Info
        + ShutdownSendRetryAfter bool
        + ShutdownWatchTerminationGracePeriod time.Duration

        - installAPIResources(apiPrefix string, apiGroupInfo *APIGroupInfo, openAPIModels *spec.Swagger) error
        - getAPIGroupVersion(apiGroupInfo *APIGroupInfo, groupVersion schema.GroupVersion, apiPrefix string) (*endpoints.APIGroupVersion, error)
        - newAPIGroupVersion(apiGroupInfo *APIGroupInfo, groupVersion schema.GroupVersion) *endpoints.APIGroupVersion
        - getOpenAPIModels(apiPrefix string, apiGroupInfos ...*APIGroupInfo) (*spec.Swagger, error)

        + UnprotectedHandler() http.Handler
        + PostStartHooks() <font color=blue>map</font>[string]postStartHookEntry
        + PreShutdownHooks() <font color=blue>map</font>[string]preShutdownHookEntry
        + HealthzChecks() []healthz.HealthChecker
        + ListedPaths() []string
        + NextDelegate() DelegationTarget
        + RegisterMuxAndDiscoveryCompleteSignal(signalName string, signal <font color=blue>chan</font> <font color=blue>struct</font>{}) error
        + MuxAndDiscoveryCompleteSignals() <font color=blue>map</font>[string]<font color=blue>chan</font> <font color=blue>struct</font>{}
        + RegisterDestroyFunc(destroyFn <font color=blue>func</font>() ) 
        + Destroy() 
        + PrepareRun() preparedGenericAPIServer
        + InstallLegacyAPIGroup(apiPrefix string, apiGroupInfo *APIGroupInfo) error
        + InstallAPIGroups(apiGroupInfos ...*APIGroupInfo) error
        + InstallAPIGroup(apiGroupInfo *APIGroupInfo) error

    }
    class emptyDelegate << (S,Aquamarine) >> {
        - handler http.Handler

        + UnprotectedHandler() http.Handler
        + PostStartHooks() <font color=blue>map</font>[string]postStartHookEntry
        + PreShutdownHooks() <font color=blue>map</font>[string]preShutdownHookEntry
        + HealthzChecks() []healthz.HealthChecker
        + ListedPaths() []string
        + NextDelegate() DelegationTarget
        + PrepareRun() preparedGenericAPIServer
        + MuxAndDiscoveryCompleteSignals() <font color=blue>map</font>[string]<font color=blue>chan</font> <font color=blue>struct</font>{}
        + Destroy() 

    }
    class preparedGenericAPIServer << (S,Aquamarine) >> {
        + Run(stopCh <font color=blue>chan</font> <font color=blue>struct</font>{}) error
        + NonBlockingRun(stopCh <font color=blue>chan</font> <font color=blue>struct</font>{}, shutdownTimeout time.Duration) (<font color=blue>chan</font> <font color=blue>struct</font>{}, <font color=blue>chan</font> <font color=blue>struct</font>{}, error)

    }

    interface DelegationTarget  {
        + UnprotectedHandler() http.Handler
        + PostStartHooks() <font color=blue>map</font>[string]postStartHookEntry
        + PreShutdownHooks() <font color=blue>map</font>[string]preShutdownHookEntry
        + HealthzChecks() []healthz.HealthChecker
        + ListedPaths() []string
        + NextDelegate() DelegationTarget
        + PrepareRun() preparedGenericAPIServer
        + MuxAndDiscoveryCompleteSignals() <font color=blue>map</font>[string]<font color=blue>chan</font> <font color=blue>struct</font>{}
        + Destroy() 

    }

    class CustomResourceDefinitions << (S,Aquamarine) >> {
        + GenericAPIServer *apiserver.GenericAPIServer
        + Informers externalversions.SharedInformerFactory

    }

}

' <|- -: 继承
' <|..: 实现
' *- -: 组合
' o- -: 聚合
"apiserver.APIAggregator" <|- - "apiserver.preparedAPIAggregator"

"apiserver.APIHandlerManager" <|.. "apiserver.APIAggregator"

"apiserver.runnable" <|.. "apiserver.preparedAPIAggregator"

"apiserver.GenericAPIServer" *- - "apiserver.preparedGenericAPIServer"
"apiserver.GenericAPIServer" *- - "apiserver.APIAggregator"
"apiserver.GenericAPIServer" *- - "apiserver.CustomResourceDefinitions"

"apiserver.DelegationTarget" <|.. "apiserver.GenericAPIServer"
"apiserver.DelegationTarget" <|.. "apiserver.emptyDelegate"
"apiserver.runnable" <|- - "apiserver.preparedGenericAPIServer"

"apiserver.preparedAPIAggregator" o- - "apiserver.preparedGenericAPIServer"


@enduml

@startuml
namespace apiserver {
    class APIAggregator << (S,Aquamarine) >> {
        - delegateHandler http.Handler
        - proxyCurrentCertKeyContent certKeyFunc
        - proxyTransport *http.Transport
        - proxyHandlers <font color=blue>map</font>[string]*proxyHandler
        - handledGroups sets.String
        - lister v1.APIServiceLister
        - serviceResolver ServiceResolver
        - openAPIConfig *common.Config
        - openAPIV3Config *common.Config
        - openAPIAggregationController *openapi.AggregationController
        - openAPIV3AggregationController *openapiv3.AggregationController
        - discoveryAggregationController DiscoveryAggregationController
        - egressSelector *egressselector.EgressSelector
        - rejectForwardingRedirects bool

        + GenericAPIServer *server.GenericAPIServer
        + APIRegistrationInformers externalversions.SharedInformerFactory

        + PrepareRun() (preparedAPIAggregator, error)
        + AddAPIService(apiService *v1.APIService) error
        + RemoveAPIService(apiServiceName string) 

    }

    class preparedAPIAggregator << (S,Aquamarine) >> {
        - runnable runnable

        + Run(stopCh <font color=blue>chan</font> <font color=blue>struct</font>{}) error

    }


    interface runnable  {
        + Run(stopCh <font color=blue>chan</font> <font color=blue>struct</font>{}) error

    }


    class GenericAPIServer << (S,Aquamarine) >> {

        + LoopbackClientConfig *rest.Config
        + ShutdownTimeout time.Duration
        + SecureServingInfo *SecureServingInfo
        + ExternalAddress string
        + Serializer runtime.NegotiatedSerializer
        + Handler *APIServerHandler
        + UnprotectedDebugSocket *routes.DebugSocket
        + DiscoveryGroupManager discovery.GroupManager
        + AggregatedDiscoveryGroupManager aggregated.ResourceManager
        + AggregatedLegacyDiscoveryGroupManager aggregated.ResourceManager
        + OpenAPIVersionedService *handler.OpenAPIService
        + OpenAPIV3VersionedService *handler3.OpenAPIService
        + StaticOpenAPISpec *spec.Swagger
        + AuditBackend audit.Backend
        + Authorizer authorizer.Authorizer
        + EquivalentResourceRegistry runtime.EquivalentResourceRegistry
        + NonLongRunningRequestWaitGroup *waitgroup.SafeWaitGroup
        + WatchRequestWaitGroup *waitgroup.RateLimitedSafeWaitGroup
        + ShutdownDelayDuration time.Duration
        + APIServerID string
        + StorageVersionManager storageversion.Manager
        + Version *version.Info
        + ShutdownSendRetryAfter bool
        + ShutdownWatchTerminationGracePeriod time.Duration

        - installAPIResources(apiPrefix string, apiGroupInfo *APIGroupInfo, openAPIModels *spec.Swagger) error
        - getAPIGroupVersion(apiGroupInfo *APIGroupInfo, groupVersion schema.GroupVersion, apiPrefix string) (*endpoints.APIGroupVersion, error)
        - newAPIGroupVersion(apiGroupInfo *APIGroupInfo, groupVersion schema.GroupVersion) *endpoints.APIGroupVersion
        - getOpenAPIModels(apiPrefix string, apiGroupInfos ...*APIGroupInfo) (*spec.Swagger, error)

        + UnprotectedHandler() http.Handler
        + PostStartHooks() <font color=blue>map</font>[string]postStartHookEntry
        + PreShutdownHooks() <font color=blue>map</font>[string]preShutdownHookEntry
        + HealthzChecks() []healthz.HealthChecker
        + ListedPaths() []string
        + NextDelegate() DelegationTarget
        + RegisterMuxAndDiscoveryCompleteSignal(signalName string, signal <font color=blue>chan</font> <font color=blue>struct</font>{}) error
        + MuxAndDiscoveryCompleteSignals() <font color=blue>map</font>[string]<font color=blue>chan</font> <font color=blue>struct</font>{}
        + RegisterDestroyFunc(destroyFn <font color=blue>func</font>() ) 
        + Destroy() 
        + PrepareRun() preparedGenericAPIServer
        + InstallLegacyAPIGroup(apiPrefix string, apiGroupInfo *APIGroupInfo) error
        + InstallAPIGroups(apiGroupInfos ...*APIGroupInfo) error
        + InstallAPIGroup(apiGroupInfo *APIGroupInfo) error

    }
    class emptyDelegate << (S,Aquamarine) >> {
        - handler http.Handler

        + UnprotectedHandler() http.Handler
        + PostStartHooks() <font color=blue>map</font>[string]postStartHookEntry
        + PreShutdownHooks() <font color=blue>map</font>[string]preShutdownHookEntry
        + HealthzChecks() []healthz.HealthChecker
        + ListedPaths() []string
        + NextDelegate() DelegationTarget
        + PrepareRun() preparedGenericAPIServer
        + MuxAndDiscoveryCompleteSignals() <font color=blue>map</font>[string]<font color=blue>chan</font> <font color=blue>struct</font>{}
        + Destroy() 

    }
    class preparedGenericAPIServer << (S,Aquamarine) >> {
        + Run(stopCh <font color=blue>chan</font> <font color=blue>struct</font>{}) error
        + NonBlockingRun(stopCh <font color=blue>chan</font> <font color=blue>struct</font>{}, shutdownTimeout time.Duration) (<font color=blue>chan</font> <font color=blue>struct</font>{}, <font color=blue>chan</font> <font color=blue>struct</font>{}, error)

    }

    interface DelegationTarget  {
        + UnprotectedHandler() http.Handler
        + PostStartHooks() <font color=blue>map</font>[string]postStartHookEntry
        + PreShutdownHooks() <font color=blue>map</font>[string]preShutdownHookEntry
        + HealthzChecks() []healthz.HealthChecker
        + ListedPaths() []string
        + NextDelegate() DelegationTarget
        + PrepareRun() preparedGenericAPIServer
        + MuxAndDiscoveryCompleteSignals() <font color=blue>map</font>[string]<font color=blue>chan</font> <font color=blue>struct</font>{}
        + Destroy() 

    }

    class CustomResourceDefinitions << (S,Aquamarine) >> {
        + GenericAPIServer *apiserver.GenericAPIServer
        + Informers externalversions.SharedInformerFactory

    }

}

"apiserver.APIAggregator" <|- - "apiserver.preparedAPIAggregator"

"apiserver.APIHandlerManager" <|.. "apiserver.APIAggregator"

"apiserver.runnable" <|.. "apiserver.preparedAPIAggregator"

"apiserver.GenericAPIServer" *- - "apiserver.preparedGenericAPIServer"
"apiserver.GenericAPIServer" *- - "apiserver.APIAggregator"
"apiserver.GenericAPIServer" *- - "apiserver.CustomResourceDefinitions"

"apiserver.DelegationTarget" <|.. "apiserver.GenericAPIServer"
"apiserver.DelegationTarget" <|.. "apiserver.emptyDelegate"
"apiserver.runnable" <|- - "apiserver.preparedGenericAPIServer"

"apiserver.preparedAPIAggregator" o- - "apiserver.preparedGenericAPIServer"


@enduml

PlantUML version 1.2022.7(Tue Aug 23 01:01:30 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>